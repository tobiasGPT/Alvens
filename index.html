<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Alvens Godteri | Nettbutikk</title>
  <meta name="description" content="Alvens Godteri â€” naturlige tinkturer og godteri. FÃ¥ 10% pÃ¥ fÃ¸rste bestilling. Rask levering i hele Norge." />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;400&family=Lora&display=swap" rel="stylesheet">
  <!-- Open Graph -->
  <meta property="og:title" content="Alvens Godteri | Nettbutikk" />
  <meta property="og:description" content="Naturlige tinkturer & mixpakker. 10% rabatt pÃ¥ fÃ¸rste kjÃ¸p." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/images/og-image.png" />
  <meta name="theme-color" content="#ffe6e6" />
  <style>
    :root{
      --bg:#ffe6e6;
      --card:#fff;
      --accent:#111;
      --muted:#666;
      --radius:12px;
      --container:1100px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Lora, serif;background:var(--bg);color:var(--accent);line-height:1.4}
    header{background:var(--card);padding:18px 24px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 1px 0 rgba(0,0,0,.05)}
    .container{max-width:var(--container);margin:0 auto;padding:0 16px}
    h1{font-family:Poppins, sans-serif;margin:0;font-size:26px}
    nav a{margin:0 10px;text-decoration:none;color:var(--accent);font-weight:600}
    .hero{display:grid;grid-template-columns:1fr 380px;gap:24px;align-items:center;padding:36px 0}
    .hero-left h2{margin:0 0 12px;font-size:28px;font-family:Poppins, sans-serif}
    .hero-left p{color:var(--muted);margin:0 0 18px}
    .cta-row{display:flex;gap:12px;align-items:center}
    .btn{background:var(--accent);color:#fff;padding:12px 16px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .btn.secondary{background:transparent;color:var(--accent);border:2px solid rgba(0,0,0,.06)}
    .price-badge{display:inline-block;background:#fff;padding:6px 10px;border-radius:999px;font-weight:700;box-shadow:0 2px 6px rgba(0,0,0,.06);margin-left:6px}
    .hero-right{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.06)}
    .products{display:flex;gap:20px;flex-wrap:wrap;padding:24px 0;justify-content:center}
    .product{background:var(--card);border-radius:var(--radius);padding:14px;width:240px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,.06)}
    .product img{width:100%;height:160px;object-fit:cover;border-radius:8px}
    .product h3{margin:12px 0 6px;font-size:16px}
    .product p{margin:0;color:var(--muted)}
    .product .meta{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
    .product .price{font-weight:700}
    .cart-toggle{position:fixed;right:16px;bottom:16px;background:var(--accent);color:#fff;padding:12px;border-radius:999px;cursor:pointer;z-index:60}
    /* cart drawer */
    #cart{position:fixed;right:0;top:0;width:360px;height:100%;background:var(--card);box-shadow:-8px 0 30px rgba(0,0,0,.12);padding:20px;overflow:auto;transform:translateX(110%);transition:transform .28s ease-in-out;z-index:80}
    #cart.open{transform:translateX(0)}
    #cart h2{font-family:Poppins, sans-serif;margin-top:0}
    #cart-items{list-style:none;padding:0;margin:0}
    #cart-items li{display:flex;justify-content:space-between;margin:10px 0;align-items:center}
    .qty{display:inline-flex;gap:6px;align-items:center}
    footer{background:var(--accent);color:#fff;text-align:center;padding:20px;margin-top:30px}
    .newsletter{display:flex;gap:8px;margin-top:12px}
    input[type="email"]{padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,.08);flex:1}
    @media(max-width:880px){
      .hero{grid-template-columns:1fr; padding-bottom:8px}
      .hero-right{order:2}
    }
  </style>
</head>
<body>
  <header class="container" role="banner">
    <h1>Alvens Godteri</h1>
    <nav aria-label="Hovedmeny">
      <a href="#products">Produkter</a>
      <a href="#about">Om oss</a>
      <a href="#contact">Kontakt</a>
      <a href="#" id="open-cart-link" onclick="toggleCart();return false">ðŸ›’ Handlekurv (<span id="cart-count">0</span>)</a>
    </nav>
  </header>

  <main class="container" role="main">
    <section class="hero" aria-labelledby="hero-heading">
      <div class="hero-left">
        <div id="hero-variants" data-variant="value">
          <h2 id="hero-heading" data-variant="aggr" style="display:none">Klar for bedre dagsform? KjÃ¸p nÃ¥ â€” begrenset lager!</h2>
          <h2 data-variant="consult" style="display:none">Naturlige tinkturer som stÃ¸tter hverdagen â€” vi hjelper deg finne riktig produkt.</h2>
          <h2 data-variant="value">Naturlige tinkturer & kjÃ¦rlighet pÃ¥ glass â€” 10% pÃ¥ fÃ¸rste bestilling</h2>
        </div>
        <p>Rask levering i hele Norge. HÃ¥ndplukkede ingredienser og trygg betaling.</p>

        <div class="cta-row" role="region" aria-label="Hoved-CTA">
          <button class="btn" id="primary-cta">KjÃ¸p populÃ¦re produkter</button>
          <button class="btn secondary" id="phone-cta" onclick="location.href='tel:+4712345678'">Ring oss: +47 12 34 56 78</button>
          <span class="price-badge">Fri frakt over 499 kr</span>
        </div>

        <div class="newsletter" aria-label="Nyhetsbrev">
          <form id="subscribe-form">
            <input type="email" id="subscribe-email" placeholder="Din epost â€” fÃ¥ 10% rabatt" aria-label="Epost" required />
            <button class="btn" type="submit">FÃ¥ rabatt</button>
          </form>
        </div>
      </div>

      <aside class="hero-right" aria-labelledby="promo-heading">
        <h3 id="promo-heading">Ukens tilbud</h3>
        <p style="margin:8px 0 12px;color:var(--muted)">Spar 20% pÃ¥ Mix 1 â€” begrenset antall.</p>
        <div style="display:flex;gap:12px;align-items:center">
          <img src="images/promo-mix1.jpg" alt="Mix 1 tilbud" style="width:120px;height:120px;border-radius:8px;object-fit:cover" loading="lazy"
               onerror="this.src='images/placeholder.png'"/>
          <div>
            <strong>Mix 1</strong>
            <div style="margin-top:8px">
              <button class="btn" onclick="addToCart('Mix 1', 89, 'images/mix1.png')">Legg i kurv</button>
            </div>
          </div>
        </div>
      </aside>
    </section>

    <section id="products" class="products" aria-label="Produkter">
      <article class="product" data-product='{"name":"Rosenrot Tinktur","price":129,"sku":"ROS-001"}' aria-labelledby="p1">
        <img src="images/rosenrot-tinktur.png" alt="Rosenrot Tinktur" loading="lazy" onerror="this.src='images/placeholder.png'"/>
        <h3 id="p1">Rosenrot Tinktur</h3>
        <p class="price">129 kr</p>
        <div class="meta">
          <button class="btn" onclick="addToCart('Rosenrot Tinktur',129,'images/rosenrot-tinktur.png')">Legg i kurv</button>
          <span style="color:var(--muted);font-size:13px">50 ml</span>
        </div>
      </article>

      <article class="product" data-product='{"name":"Cordyceps Tinktur","price":149,"sku":"COR-001"}' aria-labelledby="p2">
        <img src="images/cordyceps-tinktur.png" alt="Cordyceps Tinktur" loading="lazy" onerror="this.src='images/placeholder.png'"/>
        <h3 id="p2">Cordyceps Tinktur</h3>
        <p class="price">149 kr</p>
        <div class="meta">
          <button class="btn" onclick="addToCart('Cordyceps Tinktur',149,'images/cordyceps-tinktur.png')">Legg i kurv</button>
          <span style="color:var(--muted);font-size:13px">50 ml</span>
        </div>
      </article>

      <article class="product" data-product='{"name":"Reishi Sopp Tinktur","price":139,"sku":"REI-001"}' aria-labelledby="p3">
        <img src="images/reishi-sopp-tinktur.png" alt="Reishi Sopp Tinktur" loading="lazy" onerror="this.src='images/placeholder.png'"/>
        <h3 id="p3">Reishi Sopp Tinktur</h3>
        <p class="price">139 kr</p>
        <div class="meta">
          <button class="btn" onclick="addToCart('Reishi Sopp Tinktur',139,'images/reishi-sopp-tinktur.png')">Legg i kurv</button>
          <span style="color:var(--muted);font-size:13px">50 ml</span>
        </div>
      </article>

      <article class="product" data-product='{"name":"Alvens Godteri â€“ Mix 1","price":89,"sku":"MIX-001"}' aria-labelledby="p4">
        <img src="images/mix1.png" alt="Alvens Godteri - Mix 1" loading="lazy" onerror="this.src='images/placeholder.png'"/>
        <h3 id="p4">Alvens Godteri â€“ Mix 1</h3>
        <p class="price">89 kr</p>
        <div class="meta">
          <button class="btn" onclick="addToCart('Mix 1',89,'images/mix1.png')">Legg i kurv</button>
          <span style="color:var(--muted);font-size:13px">200 g</span>
        </div>
      </article>
    </section>

  </main>

  <!-- Cart drawer -->
  <div id="cart" role="dialog" aria-label="Handlekurv" aria-hidden="true">
    <h2>Handlekurv</h2>
    <ul id="cart-items" aria-live="polite"></ul>
    <p><strong>Total: <span id="cart-total">0</span> kr</strong></p>
    <button class="btn" id="checkout-btn" onclick="checkout()">GÃ¥ til kassen</button>
    <button class="btn secondary" onclick="toggleCart()">Lukk</button>
  </div>

  <button class="cart-toggle" id="cart-floating" aria-label="Ã…pne handlekurv" onclick="toggleCart()">ðŸ›’ <span id="cart-float-count">0</span></button>

  <footer id="contact">
    <div class="container">
      <p>Meld deg pÃ¥ nyhetsbrevet â€“ fÃ¥ 10% rabatt pÃ¥ fÃ¸rste bestilling</p>
      <p>Â© <span id="year"></span> Alvens Godteri â€” Org.nr: 999 999 999</p>
    </div>
  </footer>

  <!-- JSON-LD for products / shop -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Store",
    "name":"Alvens Godteri",
    "url":"https://alvensgodteri.no",
    "telephone":"+4712345678",
    "potentialAction": {
      "@type": "OrderAction",
      "target": "https://alvensgodteri.no/checkout"
    }
  }
  </script>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    let cart = JSON.parse(localStorage.getItem('cart') || '[]');

    function saveCart(){ localStorage.setItem('cart', JSON.stringify(cart)); renderCart(); updateCartCount(); }

    function addToCart(name, price, img) {
      const idx = cart.findIndex(i => i.name === name);
      if(idx > -1){
        cart[idx].qty += 1;
      } else {
        cart.push({name, price: Number(price), qty:1, img: img || ''});
      }
      saveCart();
      if(window.dataLayer) window.dataLayer.push({event:'add_to_cart', item_name: name, value: price});
    }

    function removeFromCart(i){
      cart.splice(i,1);
      saveCart();
    }

    function changeQty(i, delta){
      cart[i].qty = Math.max(1, cart[i].qty + delta);
      saveCart();
    }

    function renderCart(){
      const items = document.getElementById('cart-items');
      items.innerHTML = '';
      let total = 0;
      cart.forEach((it, i) => {
        const li = document.createElement('li');
        li.innerHTML = `
          <div style="display:flex;gap:8px;align-items:center">
            <img src="${it.img||'images/placeholder.png'}" alt="${it.name}" style="width:46px;height:46px;object-fit:cover;border-radius:6px"/>
            <div>
              <div style="font-weight:700">${it.name}</div>
              <div style="font-size:13px;color:#666">${it.qty} x ${it.price} kr</div>
            </div>
          </div>
          <div class="qty">
            <button onclick="changeQty(${i},-1)" aria-label="Minsk">âˆ’</button>
            <span style="min-width:28px;text-align:center">${it.qty}</span>
            <button onclick="changeQty(${i},1)" aria-label="Ã˜k">+</button>
            <button onclick="removeFromCart(${i})" style="margin-left:8px">Fjern</button>
          </div>
        `;
        items.appendChild(li);
        total += it.price * it.qty;
      });
      document.getElementById('cart-total').innerText = total;
    }

    function updateCartCount(){
      const count = cart.reduce((s,i)=>s+i.qty,0);
      document.getElementById('cart-count').innerText = count;
      document.getElementById('cart-float-count').innerText = count;
    }

    function toggleCart(){
      const cartEl = document.getElementById('cart');
      const isOpen = cartEl.classList.toggle('open');
      cartEl.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
    }

    function checkout(){
      if(window.dataLayer) window.dataLayer.push({event:'begin_checkout', value: Number(document.getElementById('cart-total').innerText)});
      window.location.href = '/checkout';
    }

    document.getElementById('subscribe-form').addEventListener('submit', function(e){
      e.preventDefault();
      const email = document.getElementById('subscribe-email').value;
      localStorage.setItem('subscribedEmail', email);
      alert('Takk! Rabattkoden er sendt til: ' + email);
      if(window.dataLayer) window.dataLayer.push({event:'newsletter_subscribed', email});
      this.reset();
    });

    renderCart();
    updateCartCount();

    (function applyHeroVariant(){
      const container = document.getElementById('hero-variants');
      const variant = container.getAttribute('data-variant') || 'value';
      const els = container.querySelectorAll('[data-variant]');
      els.forEach(el => el.style.display = (el.getAttribute('data-variant') === variant) ? 'block' : 'none');
    })();

    window.addEventListener('beforeunload', function(){
      if(cart.length > 0 && window.dataLayer) window.dataLayer.push({event:'abandoned_cart_candidate', cart});
    });
  </script>
</body>
</html>
